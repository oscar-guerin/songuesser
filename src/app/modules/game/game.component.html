<nb-card>
  <nb-card-header>
    <sgr-card-title cardTitle="game.listen"
                    icon="headphones-outline">
    </sgr-card-title>
    <small *ngIf="remainingTracks$ | async as remainingTracks"
           class="text-xs font-light">
      <span *ngIf="remainingTracks > 1">
        {{ 'game.songs_remaining' | translate:{songs: remainingTracks} }}
      </span>
      <span *ngIf="remainingTracks === 1">
        {{ 'game.last_song' | translate }}
      </span>
    </small>
  </nb-card-header>
  <nb-card-body>
    <sgr-track-player [reveal]="reveal$ | async"
                      [track]="currentTrack$ | async">
    </sgr-track-player>
  </nb-card-body>
</nb-card>
<div class="grid grid-cols-1 md:grid-cols-2 md:gap-5">
  <sgr-update-score (done$)="showSongUpdateScoreCard = false"
                    [class.opacity-30]="!showSongUpdateScoreCard"
                    [disableControls]="!showSongUpdateScoreCard"
                    [players]="players$ | async"
                    class="transition-opacity duration-300"
                    type="song">
  </sgr-update-score>
  <sgr-update-score (done$)="showArtistUpdateScoreCard = false"
                    [class.opacity-30]="!showArtistUpdateScoreCard"
                    [disableControls]="!showArtistUpdateScoreCard"
                    [players]="players$ | async"
                    class="transition-opacity duration-300"
                    type="artist">
  </sgr-update-score>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 md:gap-5">
  <sgr-scoreboard [players]="players$ | async"></sgr-scoreboard>
  <sgr-track-history [tracks]="trackHistory$ | async"></sgr-track-history>
</div>
